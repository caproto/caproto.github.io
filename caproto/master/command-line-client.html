

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Command-Line Client &mdash; caproto 0+untagged.1.g238189f documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />
      <link rel="stylesheet" type="text/css" href="_static/inheritance.css?v=90d6b3b9" />

  
      <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=e5d04ec7"></script>
      <script src="_static/doctools.js?v=888ff710"></script>
      <script src="_static/sphinx_highlight.js?v=4825356b"></script>
      <script src="_static/docs-versions-menu.js?v=302f4f97"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Synchronous Client" href="sync-client.html" />
    <link rel="prev" title="Clients" href="clients.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            caproto
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Install Caproto</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="clients.html">Clients</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Command-Line Client</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tutorial">Tutorial</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#output-formatting-options">Output Formatting Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#api-documentation">API Documentation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#caproto-get">caproto-get</a></li>
<li class="toctree-l4"><a class="reference internal" href="#caproto-put">caproto-put</a></li>
<li class="toctree-l4"><a class="reference internal" href="#caproto-monitor">caproto-monitor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#caproto-repeater">caproto-repeater</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="sync-client.html">Synchronous Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="threading-client.html">Threading Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyepics-compat-client.html">Pyepics-Compatible Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="async-clients.html">Asynchronous Clients</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="servers.html">Servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment_variables.html">Environment Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="shark.html">Shark (pcap/tcpdump parsing)</a></li>
<li class="toctree-l1"><a class="reference internal" href="loggers.html">Logging</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">IOCs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="iocs.html">Input-Output Controllers (IOCs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="records.html">Records</a></li>
<li class="toctree-l1"><a class="reference internal" href="cookiecutter.html">IOC Template Cookiecutters</a></li>
<li class="toctree-l1"><a class="reference internal" href="own_docs.html">Writing Your Own Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="server_api.html">Server API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Channel Access Sans I/O</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Writing Your Own Channel Access Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Core API Documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="protocol-compliance.html">Details of our Protocol Compliance for CA Nerds</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes.html">Release History</a></li>
<li class="toctree-l1"><a class="reference internal" href="containers.html">Caproto-in-a-box</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">caproto</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="clients.html">Clients</a></li>
      <li class="breadcrumb-item active">Command-Line Client</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/command-line-client.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="command-line-client">
<h1>Command-Line Client<a class="headerlink" href="#command-line-client" title="Permalink to this heading">¶</a></h1>
<p>Installing the caproto Python package places several executable command-line
utilities next to whichever <code class="docutils literal notranslate"><span class="pre">python3</span></code> binary was used to install caproto.
They should be available on your <code class="docutils literal notranslate"><span class="pre">PATH</span></code>. Type <code class="docutils literal notranslate"><span class="pre">caproto-&lt;TAB&gt;</span></code> to check.</p>
<section id="tutorial">
<h2>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this heading">¶</a></h2>
<p>Start one of caproto’s demo IOCs.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python3<span class="w"> </span>-m<span class="w"> </span>caproto.ioc_examples.random_walk<span class="w"> </span>--list-pvs
<span class="o">[</span>I<span class="w"> </span><span class="m">19</span>:50:37.509<span class="w"> </span>server:93<span class="o">]</span><span class="w"> </span>Server<span class="w"> </span>starting<span class="w"> </span>up...
<span class="o">[</span>I<span class="w"> </span><span class="m">19</span>:50:37.512<span class="w"> </span>server:109<span class="o">]</span><span class="w"> </span>Listening<span class="w"> </span>on<span class="w"> </span><span class="m">0</span>.0.0.0:55704
<span class="o">[</span>I<span class="w"> </span><span class="m">19</span>:50:37.512<span class="w"> </span>server:121<span class="o">]</span><span class="w"> </span>Server<span class="w"> </span>startup<span class="w"> </span>complete.
<span class="o">[</span>I<span class="w"> </span><span class="m">19</span>:50:37.512<span class="w"> </span>server:123<span class="o">]</span><span class="w"> </span>PVs<span class="w"> </span>available:
<span class="w">    </span>random_walk:dt
<span class="w">    </span>random_walk:x
</pre></div>
</div>
<p>Now, in a separate shell, we will talk to it using caproto’s command-line
client:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>caproto-get<span class="w"> </span>random_walk:dt
random_walk:dt<span class="w">                       </span><span class="o">[</span><span class="m">3</span>.<span class="o">]</span>
</pre></div>
</div>
<p>By default, <code class="docutils literal notranslate"><span class="pre">caproto-get</span></code> displays the name and the current value.  For
comprehensive access to the server’s response, use <code class="docutils literal notranslate"><span class="pre">--format</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>caproto-get<span class="w"> </span>random_walk:dt<span class="w"> </span>--format<span class="o">=</span><span class="s2">&quot;{response}&quot;</span>
ReadNotifyResponse<span class="o">(</span><span class="nv">data</span><span class="o">=</span>array<span class="o">([</span><span class="m">3</span>.<span class="o">])</span>,<span class="w"> </span><span class="nv">data_type</span><span class="o">=</span>&lt;ChannelType.DOUBLE:<span class="w"> </span><span class="m">6</span>&gt;,
<span class="nv">data_count</span><span class="o">=</span><span class="m">1</span>,<span class="w"> </span><span class="nv">status</span><span class="o">=</span>CAStatusCode<span class="o">(</span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;ECA_NORMAL&#39;</span>,<span class="w"> </span><span class="nv">code</span><span class="o">=</span><span class="m">0</span>,
<span class="nv">code_with_severity</span><span class="o">=</span><span class="m">1</span>,<span class="w"> </span><span class="nv">severity</span><span class="o">=</span>&lt;CASeverity.SUCCESS:<span class="w"> </span><span class="m">1</span>&gt;,<span class="w"> </span><span class="nv">success</span><span class="o">=</span><span class="m">1</span>,
<span class="nv">defunct</span><span class="o">=</span>False,<span class="w"> </span><span class="nv">description</span><span class="o">=</span><span class="s1">&#39;Normal successful completion&#39;</span><span class="o">)</span>,<span class="w"> </span><span class="nv">ioid</span><span class="o">=</span><span class="m">0</span>,
<span class="nv">metadata</span><span class="o">=</span>None<span class="o">)</span>
</pre></div>
</div>
<p>Access particular fields in the response using attribute (“dot”) access.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>caproto-get<span class="w"> </span>random_walk:dt<span class="w"> </span>--format<span class="o">=</span><span class="s2">&quot;{response.data}&quot;</span>
<span class="o">[</span><span class="m">3</span>.<span class="o">]</span>

$<span class="w"> </span>caproto-get<span class="w"> </span>random_walk:dt<span class="w"> </span>--format<span class="o">=</span><span class="s2">&quot;{response.status.description}&quot;</span>
Normal<span class="w"> </span>successful<span class="w"> </span>completion

$<span class="w"> </span>caproto-get<span class="w"> </span>random_walk:dt<span class="w"> </span>--format<span class="o">=</span><span class="s2">&quot;{response.metadata}&quot;</span>
None
</pre></div>
</div>
<p>By default, the server sends no metadata. Obtain metadata by requesting a
richer data type.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>caproto-get<span class="w"> </span>random_walk:dt<span class="w"> </span>-d<span class="w"> </span>control<span class="w"> </span>--format<span class="o">=</span><span class="s2">&quot;{response.metadata}&quot;</span>
DBR_CTRL_FLOAT<span class="o">(</span><span class="nv">status</span><span class="o">=</span>&lt;AlarmStatus.NO_ALARM:<span class="w"> </span><span class="m">0</span>&gt;,
<span class="nv">severity</span><span class="o">=</span>&lt;AlarmSeverity.NO_ALARM:<span class="w"> </span><span class="m">0</span>&gt;,<span class="w"> </span><span class="nv">upper_disp_limit</span><span class="o">=</span><span class="m">0</span>.0,
<span class="nv">lower_disp_limit</span><span class="o">=</span><span class="m">0</span>.0,<span class="w"> </span><span class="nv">upper_alarm_limit</span><span class="o">=</span><span class="m">0</span>.0,<span class="w"> </span><span class="nv">upper_warning_limit</span><span class="o">=</span><span class="m">0</span>.0,
<span class="nv">lower_warning_limit</span><span class="o">=</span><span class="m">0</span>.0,<span class="w"> </span><span class="nv">lower_alarm_limit</span><span class="o">=</span><span class="m">0</span>.0,<span class="w"> </span><span class="nv">upper_ctrl_limit</span><span class="o">=</span><span class="m">0</span>.0,
<span class="nv">lower_ctrl_limit</span><span class="o">=</span><span class="m">0</span>.0,<span class="w"> </span><span class="nv">precision</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">units</span><span class="o">=</span>b<span class="s1">&#39;&#39;</span><span class="o">)</span>
</pre></div>
</div>
<p>To view the list of data types, use <code class="docutils literal notranslate"><span class="pre">--list-types</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>caproto-get<span class="w"> </span>--list-types
Request<span class="w"> </span>a<span class="w"> </span>general<span class="w"> </span>class<span class="w"> </span>of<span class="w"> </span>types:

native
status
<span class="nb">time</span>
graphic
control

or<span class="w"> </span>one<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>specific<span class="w"> </span>types,<span class="w"> </span>specified<span class="w"> </span>by<span class="w"> </span>number<span class="w"> </span>or<span class="w"> </span>by<span class="w"> </span><span class="o">(</span><span class="k">case</span>-insensitive<span class="o">)</span><span class="w"> </span>name:

<span class="m">0</span><span class="w">  </span>STRING
<span class="m">1</span><span class="w">  </span>INT
<span class="m">2</span><span class="w">  </span>FLOAT
<span class="m">3</span><span class="w">  </span>ENUM
<span class="m">4</span><span class="w">  </span>CHAR
<span class="m">5</span><span class="w">  </span>LONG
<span class="m">6</span><span class="w">  </span>DOUBLE
&lt;...snipped...&gt;
<span class="m">34</span><span class="w"> </span>CTRL_DOUBLE
<span class="m">35</span><span class="w"> </span>PUT_ACKT
<span class="m">36</span><span class="w"> </span>PUT_ACKS
<span class="m">37</span><span class="w"> </span>STSACK_STRING
<span class="m">38</span><span class="w"> </span>CLASS_NAME
</pre></div>
</div>
<p>Display multiple fields.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>caproto-get<span class="w"> </span>random_walk:dt<span class="w"> </span>-d<span class="w"> </span><span class="nb">time</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--format<span class="o">=</span><span class="s2">&quot;{response.metadata.timestamp}   {response.data}&quot;</span>
<span class="m">1527708484</span>.417967<span class="w">   </span><span class="o">[</span><span class="m">3</span>.<span class="o">]</span>
</pre></div>
</div>
<p>Query multiple PVs in one command and label the results.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>caproto-get<span class="w"> </span>random_walk:dt<span class="w"> </span>random_walk:x<span class="w"> </span>--format<span class="o">=</span><span class="s2">&quot;{pv_name} {response.data}&quot;</span>
random_walk:dt<span class="w"> </span><span class="o">[</span><span class="m">3</span>.<span class="o">]</span>
random_walk:x<span class="w"> </span><span class="o">[</span><span class="m">15</span>.03687<span class="o">]</span>
</pre></div>
</div>
<p>For debugging purposes, display some log messages using <code class="docutils literal notranslate"><span class="pre">-v</span></code> or <code class="docutils literal notranslate"><span class="pre">--verbose</span></code>.
On supported terminals, this output is color-coded and somewhat easier to
visually parse.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>caproto-get<span class="w"> </span>-v<span class="w"> </span>random_walk:x
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:15.753<span class="w"> </span>client:53<span class="o">]</span><span class="w"> </span>Registering<span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span>Channel<span class="w"> </span>Access<span class="w"> </span>repeater.
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:15.755<span class="w"> </span>client:60<span class="o">]</span><span class="w"> </span>Searching<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">&#39;random_walk:x&#39;</span>....
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:15.758<span class="w"> </span>client:72<span class="o">]</span><span class="w"> </span>Search<span class="w"> </span>request<span class="w"> </span>sent<span class="w"> </span>to<span class="w"> </span><span class="o">(</span><span class="s1">&#39;127.0.0.1&#39;</span>,<span class="w"> </span><span class="m">5064</span><span class="o">)</span>.
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:15.758<span class="w"> </span>client:72<span class="o">]</span><span class="w"> </span>Search<span class="w"> </span>request<span class="w"> </span>sent<span class="w"> </span>to<span class="w"> </span><span class="o">(</span><span class="s1">&#39;172.27.7.255&#39;</span>,<span class="w"> </span><span class="m">5064</span><span class="o">)</span>.
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:15.759<span class="w"> </span>client:112<span class="o">]</span><span class="w"> </span>Found<span class="w"> </span>random_walk:x<span class="w"> </span>at<span class="w"> </span><span class="o">(</span><span class="s1">&#39;127.0.0.1&#39;</span>,<span class="w"> </span><span class="m">54388</span><span class="o">)</span>
<span class="o">[</span>I<span class="w"> </span><span class="m">20</span>:00:15.765<span class="w"> </span>client:147<span class="o">]</span><span class="w"> </span>random_walk:x<span class="w"> </span>connected
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:15.765<span class="w"> </span>client:161<span class="o">]</span><span class="w"> </span>Detected<span class="w"> </span>native<span class="w"> </span>data_type<span class="w"> </span>&lt;ChannelType.DOUBLE:<span class="w"> </span><span class="m">6</span>&gt;.
random_walk:x<span class="w">                             </span><span class="o">[</span><span class="m">0</span>.49813506<span class="o">]</span>
</pre></div>
</div>
<p>For extreme debugging, display all of the commands sent and received using <code class="docutils literal notranslate"><span class="pre">-vvv</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>caproto-get<span class="w"> </span>-vvv<span class="w"> </span>random_walk:x
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.562<span class="w"> </span>repeater:214<span class="o">]</span><span class="w"> </span>Another<span class="w"> </span>repeater<span class="w"> </span>is<span class="w"> </span>already<span class="w"> </span>running<span class="p">;</span><span class="w"> </span>will<span class="w"> </span>not<span class="w"> </span>spawn<span class="w"> </span>one.
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.563<span class="w"> </span>client:53<span class="o">]</span><span class="w"> </span>Registering<span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span>Channel<span class="w"> </span>Access<span class="w"> </span>repeater.
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.563<span class="w"> </span>_broadcaster:71<span class="o">]</span><span class="w"> </span>Serializing<span class="w"> </span><span class="m">1</span><span class="w"> </span>commands<span class="w"> </span>into<span class="w"> </span>one<span class="w"> </span>datagram
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.564<span class="w"> </span>_broadcaster:74<span class="o">]</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>of<span class="w"> </span><span class="m">1</span><span class="w"> </span>RepeaterRegisterRequest<span class="o">(</span><span class="nv">client_address</span><span class="o">=</span><span class="s1">&#39;0.0.0.0&#39;</span><span class="o">)</span>
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.565<span class="w"> </span>client:60<span class="o">]</span><span class="w"> </span>Searching<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s1">&#39;random_walk:x&#39;</span>....
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.566<span class="w"> </span>_broadcaster:71<span class="o">]</span><span class="w"> </span>Serializing<span class="w"> </span><span class="m">2</span><span class="w"> </span>commands<span class="w"> </span>into<span class="w"> </span>one<span class="w"> </span>datagram
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.566<span class="w"> </span>_broadcaster:74<span class="o">]</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>of<span class="w"> </span><span class="m">2</span><span class="w"> </span>VersionRequest<span class="o">(</span><span class="nv">priority</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">version</span><span class="o">=</span><span class="m">13</span><span class="o">)</span>
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.566<span class="w"> </span>_broadcaster:74<span class="o">]</span><span class="w"> </span><span class="m">2</span><span class="w"> </span>of<span class="w"> </span><span class="m">2</span><span class="w"> </span>SearchRequest<span class="o">(</span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;random_walk:x&#39;</span>,<span class="w"> </span><span class="nv">cid</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">version</span><span class="o">=</span><span class="m">13</span><span class="o">)</span>
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.567<span class="w"> </span>client:72<span class="o">]</span><span class="w"> </span>Search<span class="w"> </span>request<span class="w"> </span>sent<span class="w"> </span>to<span class="w"> </span><span class="o">(</span><span class="s1">&#39;127.0.0.1&#39;</span>,<span class="w"> </span><span class="m">5064</span><span class="o">)</span>.
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.567<span class="w"> </span>client:72<span class="o">]</span><span class="w"> </span>Search<span class="w"> </span>request<span class="w"> </span>sent<span class="w"> </span>to<span class="w"> </span><span class="o">(</span><span class="s1">&#39;172.27.7.255&#39;</span>,<span class="w"> </span><span class="m">5064</span><span class="o">)</span>.
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.568<span class="w"> </span>_broadcaster:98<span class="o">]</span><span class="w"> </span>Received<span class="w"> </span>datagram<span class="w"> </span>from<span class="w"> </span><span class="o">(</span><span class="s1">&#39;127.0.0.1&#39;</span>,<span class="w"> </span><span class="m">5065</span><span class="o">)</span><span class="w"> </span>with<span class="w"> </span><span class="m">16</span><span class="w"> </span>bytes.
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.568<span class="w"> </span>_broadcaster:98<span class="o">]</span><span class="w"> </span>Received<span class="w"> </span>datagram<span class="w"> </span>from<span class="w"> </span><span class="o">(</span><span class="s1">&#39;127.0.0.1&#39;</span>,<span class="w"> </span><span class="m">5064</span><span class="o">)</span><span class="w"> </span>with<span class="w"> </span><span class="m">40</span><span class="w"> </span>bytes.
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.568<span class="w"> </span>client:112<span class="o">]</span><span class="w"> </span>Found<span class="w"> </span>random_walk:x<span class="w"> </span>at<span class="w"> </span><span class="o">(</span><span class="s1">&#39;127.0.0.1&#39;</span>,<span class="w"> </span><span class="m">54388</span><span class="o">)</span>
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.572<span class="w"> </span>_circuit:142<span class="o">]</span><span class="w"> </span>Serializing<span class="w"> </span>VersionRequest<span class="o">(</span><span class="nv">priority</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">version</span><span class="o">=</span><span class="m">13</span><span class="o">)</span>
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.573<span class="w"> </span>_circuit:142<span class="o">]</span><span class="w"> </span>Serializing<span class="w"> </span>HostNameRequest<span class="o">(</span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;Daniels-MacBook-Air-3.local&#39;</span><span class="o">)</span>
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.574<span class="w"> </span>_circuit:142<span class="o">]</span><span class="w"> </span>Serializing<span class="w"> </span>ClientNameRequest<span class="o">(</span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;dallan&#39;</span><span class="o">)</span>
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.574<span class="w"> </span>_circuit:142<span class="o">]</span><span class="w"> </span>Serializing<span class="w"> </span>CreateChanRequest<span class="o">(</span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;random_walk:x&#39;</span>,<span class="w"> </span><span class="nv">cid</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">version</span><span class="o">=</span><span class="m">13</span><span class="o">)</span>
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.575<span class="w"> </span>_circuit:171<span class="o">]</span><span class="w"> </span>Received<span class="w"> </span><span class="m">16</span><span class="w"> </span>bytes.
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.575<span class="w"> </span>_circuit:181<span class="o">]</span><span class="w"> </span><span class="m">16</span><span class="w"> </span>bytes<span class="w"> </span>-&gt;<span class="w"> </span>VersionResponse<span class="o">(</span><span class="nv">version</span><span class="o">=</span><span class="m">13</span><span class="o">)</span>
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.575<span class="w"> </span>_circuit:185<span class="o">]</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>bytes<span class="w"> </span>are<span class="w"> </span>cached.<span class="w"> </span>Need<span class="w"> </span>more<span class="w"> </span>bytes<span class="w"> </span>to<span class="w"> </span>parse<span class="w"> </span>next<span class="w"> </span>command.
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.575<span class="w"> </span>_circuit:171<span class="o">]</span><span class="w"> </span>Received<span class="w"> </span><span class="m">32</span><span class="w"> </span>bytes.
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.575<span class="w"> </span>_circuit:181<span class="o">]</span><span class="w"> </span><span class="m">16</span><span class="w"> </span>bytes<span class="w"> </span>-&gt;<span class="w"> </span>AccessRightsResponse<span class="o">(</span><span class="nv">cid</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">access_rights</span><span class="o">=</span>&lt;AccessRights.WRITE<span class="p">|</span>READ:<span class="w"> </span><span class="m">3</span>&gt;<span class="o">)</span>
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.576<span class="w"> </span>_circuit:181<span class="o">]</span><span class="w"> </span><span class="m">16</span><span class="w"> </span>bytes<span class="w"> </span>-&gt;<span class="w"> </span>CreateChanResponse<span class="o">(</span><span class="nv">data_type</span><span class="o">=</span>&lt;ChannelType.DOUBLE:<span class="w"> </span><span class="m">6</span>&gt;,<span class="w"> </span><span class="nv">data_count</span><span class="o">=</span><span class="m">1</span>,<span class="w"> </span><span class="nv">cid</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">sid</span><span class="o">=</span><span class="m">1</span><span class="o">)</span>
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.576<span class="w"> </span>_circuit:185<span class="o">]</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>bytes<span class="w"> </span>are<span class="w"> </span>cached.<span class="w"> </span>Need<span class="w"> </span>more<span class="w"> </span>bytes<span class="w"> </span>to<span class="w"> </span>parse<span class="w"> </span>next<span class="w"> </span>command.
<span class="o">[</span>I<span class="w"> </span><span class="m">20</span>:00:47.576<span class="w"> </span>client:147<span class="o">]</span><span class="w"> </span>random_walk:x<span class="w"> </span>connected
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.577<span class="w"> </span>client:161<span class="o">]</span><span class="w"> </span>Detected<span class="w"> </span>native<span class="w"> </span>data_type<span class="w"> </span>&lt;ChannelType.DOUBLE:<span class="w"> </span><span class="m">6</span>&gt;.
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.577<span class="w"> </span>_circuit:142<span class="o">]</span><span class="w"> </span>Serializing<span class="w"> </span>ReadNotifyRequest<span class="o">(</span><span class="nv">data_type</span><span class="o">=</span>&lt;ChannelType.DOUBLE:<span class="w"> </span><span class="m">6</span>&gt;,<span class="w"> </span><span class="nv">data_count</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">sid</span><span class="o">=</span><span class="m">1</span>,<span class="w"> </span><span class="nv">ioid</span><span class="o">=</span><span class="m">0</span><span class="o">)</span>
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.578<span class="w"> </span>_circuit:171<span class="o">]</span><span class="w"> </span>Received<span class="w"> </span><span class="m">24</span><span class="w"> </span>bytes.
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.578<span class="w"> </span>_circuit:181<span class="o">]</span><span class="w"> </span><span class="m">24</span><span class="w"> </span>bytes<span class="w"> </span>-&gt;<span class="w"> </span>ReadNotifyResponse<span class="o">(</span><span class="nv">data</span><span class="o">=</span>array<span class="o">([</span><span class="m">5</span>.38826246<span class="o">])</span>,<span class="w"> </span><span class="nv">data_type</span><span class="o">=</span>&lt;ChannelType.DOUBLE:<span class="w"> </span><span class="m">6</span>&gt;,<span class="w"> </span><span class="nv">data_count</span><span class="o">=</span><span class="m">1</span>,<span class="w"> </span><span class="nv">status</span><span class="o">=</span>CAStatusCode<span class="o">(</span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;ECA_NORMAL&#39;</span>,<span class="w"> </span><span class="nv">code</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">code_with_severity</span><span class="o">=</span><span class="m">1</span>,<span class="w"> </span><span class="nv">severity</span><span class="o">=</span>&lt;CASeverity.SUCCESS:<span class="w"> </span><span class="m">1</span>&gt;,<span class="w"> </span><span class="nv">success</span><span class="o">=</span><span class="m">1</span>,<span class="w"> </span><span class="nv">defunct</span><span class="o">=</span>False,<span class="w"> </span><span class="nv">description</span><span class="o">=</span><span class="s1">&#39;Normal successful completion&#39;</span><span class="o">)</span>,<span class="w"> </span><span class="nv">ioid</span><span class="o">=</span><span class="m">0</span>,<span class="w"> </span><span class="nv">metadata</span><span class="o">=</span>None<span class="o">)</span>
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.579<span class="w"> </span>_circuit:185<span class="o">]</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>bytes<span class="w"> </span>are<span class="w"> </span>cached.<span class="w"> </span>Need<span class="w"> </span>more<span class="w"> </span>bytes<span class="w"> </span>to<span class="w"> </span>parse<span class="w"> </span>next<span class="w"> </span>command.
<span class="o">[</span>D<span class="w"> </span><span class="m">20</span>:00:47.579<span class="w"> </span>_circuit:142<span class="o">]</span><span class="w"> </span>Serializing<span class="w"> </span>ClearChannelRequest<span class="o">(</span><span class="nv">sid</span><span class="o">=</span><span class="m">1</span>,<span class="w"> </span><span class="nv">cid</span><span class="o">=</span><span class="m">0</span><span class="o">)</span>
random_walk:x<span class="w">                             </span><span class="o">[</span><span class="m">5</span>.38826246<span class="o">]</span>
</pre></div>
</div>
<p>For additional options, type <code class="docutils literal notranslate"><span class="pre">caproto-get</span> <span class="pre">-h</span></code> or see below.</p>
<p>Let us set the value to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>caproto-put<span class="w"> </span>random_walk:dt<span class="w"> </span><span class="m">1</span>
random_walk:dt<span class="w">                            </span><span class="o">[</span><span class="m">3</span>.<span class="o">]</span>
random_walk:dt<span class="w">                            </span><span class="o">[</span><span class="m">1</span>.<span class="o">]</span>
</pre></div>
</div>
<p>The client issues three requests:</p>
<ol class="arabic simple">
<li><p>Read the current value.</p></li>
<li><p>Write <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
<li><p>Read the value again.</p></li>
</ol>
<p>By default it does not actually wait for confirmation that the write has been
processed by the server before moving on to the final read, so it is possible
to receive a reading that isn’t up to date. Use <code class="docutils literal notranslate"><span class="pre">-c</span></code> to ask the server to
confirm the write’s success and to wait on that confirmation before doing the
final read.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>caproto-put<span class="w"> </span>-c<span class="w"> </span>random_walk:dt<span class="w"> </span><span class="m">2</span>
random_walk:dt<span class="w">                            </span><span class="o">[</span><span class="m">1</span>.<span class="o">]</span>
random_walk:dt<span class="w">                            </span><span class="o">[</span><span class="m">2</span>.<span class="o">]</span>
</pre></div>
</div>
<p>For additional options, type <code class="docutils literal notranslate"><span class="pre">caproto-put</span> <span class="pre">-h</span></code> or see below.</p>
<p>Let us now monitor a channel. The server updates the <code class="docutils literal notranslate"><span class="pre">random_walk:x</span></code> channel
periodically. (The period is set by <code class="docutils literal notranslate"><span class="pre">random_walk:dt</span></code>.) We can subscribe
to updates. Use Ctrl+C to escape.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>caproto-monitor<span class="w"> </span>random_walk:x
random_walk:x<span class="w">                             </span><span class="m">2018</span>-05-30<span class="w"> </span><span class="m">16</span>:05:14<span class="w"> </span><span class="o">[</span><span class="m">3</span>.21691947<span class="o">]</span>
random_walk:x<span class="w">                             </span><span class="m">2018</span>-05-30<span class="w"> </span><span class="m">16</span>:05:17<span class="w"> </span><span class="o">[</span><span class="m">4</span>.06274315<span class="o">]</span>
random_walk:x<span class="w">                             </span><span class="m">2018</span>-05-30<span class="w"> </span><span class="m">16</span>:05:18<span class="w"> </span><span class="o">[</span><span class="m">4</span>.66485147<span class="o">]</span>
random_walk:x<span class="w">                             </span><span class="m">2018</span>-05-30<span class="w"> </span><span class="m">16</span>:05:19<span class="w"> </span><span class="o">[</span><span class="m">5</span>.37846743<span class="o">]</span>
random_walk:x<span class="w">                             </span><span class="m">2018</span>-05-30<span class="w"> </span><span class="m">16</span>:05:20<span class="w"> </span><span class="o">[</span><span class="m">5</span>.91004514<span class="o">]</span>
random_walk:x<span class="w">                             </span><span class="m">2018</span>-05-30<span class="w"> </span><span class="m">16</span>:05:21<span class="w"> </span><span class="o">[</span><span class="m">6</span>.73980869<span class="o">]</span>
random_walk:x<span class="w">                             </span><span class="m">2018</span>-05-30<span class="w"> </span><span class="m">16</span>:05:22<span class="w"> </span><span class="o">[</span><span class="m">7</span>.32833931<span class="o">]</span>
random_walk:x<span class="w">                             </span><span class="m">2018</span>-05-30<span class="w"> </span><span class="m">16</span>:05:23<span class="w"> </span><span class="o">[</span><span class="m">7</span>.34338441<span class="o">]</span>
random_walk:x<span class="w">                             </span><span class="m">2018</span>-05-30<span class="w"> </span><span class="m">16</span>:05:24<span class="w"> </span><span class="o">[</span><span class="m">7</span>.54504445<span class="o">]</span>
random_walk:x<span class="w">                             </span><span class="m">2018</span>-05-30<span class="w"> </span><span class="m">16</span>:05:25<span class="w"> </span><span class="o">[</span><span class="m">7</span>.97174939<span class="o">]</span>
random_walk:x<span class="w">                             </span><span class="m">2018</span>-05-30<span class="w"> </span><span class="m">16</span>:05:26<span class="w"> </span><span class="o">[</span><span class="m">8</span>.54049119<span class="o">]</span>
</pre></div>
</div>
<p>Since monitoring involves a time series of multiple readings, the <code class="docutils literal notranslate"><span class="pre">--format</span></code>
argument for <code class="docutils literal notranslate"><span class="pre">caproto-monitor</span></code> provides additional tokens, <code class="docutils literal notranslate"><span class="pre">{timestamp}</span></code>
and <code class="docutils literal notranslate"><span class="pre">{timedelta}</span></code>. We can show the hours, minutes, and seconds of each reading:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>caproto-monitor<span class="w"> </span>random_walk:x<span class="w"> </span>--format<span class="w"> </span><span class="s2">&quot;{timestamp:%H:%M:%S} {response.data}&quot;</span>
<span class="m">16</span>:13:00<span class="w"> </span><span class="o">[</span><span class="m">239</span>.95707401<span class="o">]</span>
<span class="m">16</span>:13:01<span class="w"> </span><span class="o">[</span><span class="m">240</span>.49112986<span class="o">]</span>
<span class="m">16</span>:13:02<span class="w"> </span><span class="o">[</span><span class="m">241</span>.46992348<span class="o">]</span>
<span class="m">16</span>:13:03<span class="w"> </span><span class="o">[</span><span class="m">241</span>.93483515<span class="o">]</span>
<span class="m">16</span>:13:04<span class="w"> </span><span class="o">[</span><span class="m">242</span>.39478219<span class="o">]</span>
^C
</pre></div>
</div>
<p>and the time-spacing between readings:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>caproto-monitor<span class="w"> </span>random_walk:x<span class="w"> </span>--format<span class="w"> </span><span class="s2">&quot;{timedelta} {response.data}&quot;</span>
<span class="m">0</span>:00:00.821489<span class="w"> </span><span class="o">[</span><span class="m">216</span>.31247919<span class="o">]</span>
<span class="m">0</span>:00:01.001850<span class="w"> </span><span class="o">[</span><span class="m">216</span>.87041785<span class="o">]</span>
<span class="m">0</span>:00:01.002946<span class="w"> </span><span class="o">[</span><span class="m">217</span>.64755049<span class="o">]</span>
<span class="m">0</span>:00:01.003341<span class="w"> </span><span class="o">[</span><span class="m">218</span>.41384969<span class="o">]</span>
<span class="m">0</span>:00:01.004499<span class="w"> </span><span class="o">[</span><span class="m">219</span>.30221942<span class="o">]</span>
^C
</pre></div>
</div>
<p>For additional options, type <code class="docutils literal notranslate"><span class="pre">caproto-monitor</span> <span class="pre">-h</span></code> or see below.</p>
<section id="output-formatting-options">
<h3>Output Formatting Options<a class="headerlink" href="#output-formatting-options" title="Permalink to this heading">¶</a></h3>
<p>Output formatting options are changing the default format used in
<code class="docutils literal notranslate"><span class="pre">caproto-get</span></code> and <code class="docutils literal notranslate"><span class="pre">caproto-monitor</span></code> for printing PV values.
The default formatting is used in the following cases:</p>
<ul class="simple">
<li><p>The format string (<code class="docutils literal notranslate"><span class="pre">--format</span></code> argument) is not specified.</p></li>
<li><p>The format string contains the field <code class="docutils literal notranslate"><span class="pre">{response.data}</span></code>. In this case
formatting is applied only to the field <code class="docutils literal notranslate"><span class="pre">{response.data}</span></code>.</p></li>
</ul>
<p>Formatting options applied to <strong>floating point PV values</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-e</span> <span class="pre">&lt;nr&gt;</span></code> - use %e format with precision of <code class="docutils literal notranslate"><span class="pre">&lt;nr&gt;</span></code> digits (e.g. <code class="docutils literal notranslate"><span class="pre">-e5</span></code> or <code class="docutils literal notranslate"><span class="pre">-e</span> <span class="pre">5</span></code>);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-f</span> <span class="pre">&lt;nr&gt;</span></code> - use %f format with precision of <code class="docutils literal notranslate"><span class="pre">&lt;nr&gt;</span></code> digits (e.g. <code class="docutils literal notranslate"><span class="pre">-f5</span></code> or <code class="docutils literal notranslate"><span class="pre">-f</span> <span class="pre">5</span></code>);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-g</span> <span class="pre">&lt;nr&gt;</span></code> - use %g format with precision of <code class="docutils literal notranslate"><span class="pre">&lt;nr&gt;</span></code> digits (e.g. <code class="docutils literal notranslate"><span class="pre">-g5</span></code> or <code class="docutils literal notranslate"><span class="pre">-g</span> <span class="pre">5</span></code>);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-s</span></code> - get value as string (honors server-side precision);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-lx</span></code> - round to long integer and print as hex number;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-lo</span></code> - round to long integer and print as octal number;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-lb</span></code> - round to long integer and print as binary number.</p></li>
</ul>
<p>Formatting options applied to <strong>integer PV values</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-0x</span></code> - print as hex number;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-0o</span></code> - print as octal number;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-0b</span></code> - print as binary number.</p></li>
</ul>
<p>The argument <code class="docutils literal notranslate"><span class="pre">-F</span> <span class="pre">&lt;ofs&gt;</span></code> replaces the default field separator (spaces) with alternate
separator <code class="docutils literal notranslate"><span class="pre">&lt;ofs&gt;</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">-F*</span></code>, <code class="docutils literal notranslate"><span class="pre">-F'*'</span></code>, <code class="docutils literal notranslate"><span class="pre">-F</span> <span class="pre">'*'</span></code>, <code class="docutils literal notranslate"><span class="pre">-F</span> <span class="pre">'</span> <span class="pre">**</span> <span class="pre">'</span></code>).</p>
<p>Some examples of output formatting:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>caproto-monitor<span class="w"> </span>random_walk:x<span class="w"> </span>-g10
random_walk:x<span class="w">                             </span><span class="m">2019</span>-04-11<span class="w"> </span><span class="m">20</span>:12:45.159667<span class="w"> </span><span class="o">[</span>-165.3895284<span class="o">]</span>
random_walk:x<span class="w">                             </span><span class="m">2019</span>-04-11<span class="w"> </span><span class="m">20</span>:12:46.160722<span class="w"> </span><span class="o">[</span>-164.5046121<span class="o">]</span>
random_walk:x<span class="w">                             </span><span class="m">2019</span>-04-11<span class="w"> </span><span class="m">20</span>:12:47.162351<span class="w"> </span><span class="o">[</span>-163.5463466<span class="o">]</span>
random_walk:x<span class="w">                             </span><span class="m">2019</span>-04-11<span class="w"> </span><span class="m">20</span>:12:48.164604<span class="w"> </span><span class="o">[</span>-164.0319457<span class="o">]</span>
random_walk:x<span class="w">                             </span><span class="m">2019</span>-04-11<span class="w"> </span><span class="m">20</span>:12:49.166856<span class="w"> </span><span class="o">[</span>-163.1483927<span class="o">]</span>
random_walk:x<span class="w">                             </span><span class="m">2019</span>-04-11<span class="w"> </span><span class="m">20</span>:12:50.169072<span class="w"> </span><span class="o">[</span>-163.9358578<span class="o">]</span>
random_walk:x<span class="w">                             </span><span class="m">2019</span>-04-11<span class="w"> </span><span class="m">20</span>:12:51.171294<span class="w"> </span><span class="o">[</span>-163.4155186<span class="o">]</span>
random_walk:x<span class="w">                             </span><span class="m">2019</span>-04-11<span class="w"> </span><span class="m">20</span>:12:52.173604<span class="w"> </span><span class="o">[</span>-162.6590992<span class="o">]</span>
^C

$<span class="w"> </span>caproto-monitor<span class="w"> </span>random_walk:x<span class="w"> </span>-g10<span class="w"> </span>-F<span class="s2">&quot;  ==  &quot;</span>
random_walk:x<span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="m">2019</span>-04-11<span class="w"> </span><span class="m">20</span>:14:41.297880<span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="o">[</span>-3.811720948<span class="o">]</span>
random_walk:x<span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="m">2019</span>-04-11<span class="w"> </span><span class="m">20</span>:14:42.298818<span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="o">[</span>-3.162919537<span class="o">]</span>
random_walk:x<span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="m">2019</span>-04-11<span class="w"> </span><span class="m">20</span>:14:43.301088<span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="o">[</span>-3.432931988<span class="o">]</span>
random_walk:x<span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="m">2019</span>-04-11<span class="w"> </span><span class="m">20</span>:14:44.303375<span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="o">[</span>-2.787768272<span class="o">]</span>
random_walk:x<span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="m">2019</span>-04-11<span class="w"> </span><span class="m">20</span>:14:45.305699<span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="o">[</span>-2.024880621<span class="o">]</span>
random_walk:x<span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="m">2019</span>-04-11<span class="w"> </span><span class="m">20</span>:14:46.307986<span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="o">[</span>-1.765013774<span class="o">]</span>
random_walk:x<span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="m">2019</span>-04-11<span class="w"> </span><span class="m">20</span>:14:47.310276<span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="o">[</span>-1.45201324<span class="o">]</span>
random_walk:x<span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="m">2019</span>-04-11<span class="w"> </span><span class="m">20</span>:14:48.312575<span class="w">  </span><span class="o">==</span><span class="w">  </span><span class="o">[</span>-0.9904703683<span class="o">]</span>
^C

$<span class="w"> </span>caproto-monitor<span class="w"> </span>random_walk:x<span class="w"> </span>-e5<span class="w"> </span>--format<span class="w"> </span><span class="s2">&quot;{timedelta} {response.data}&quot;</span>
<span class="m">0</span>:00:00.561498<span class="w"> </span><span class="o">[</span>-6.09173e+00<span class="o">]</span>
<span class="m">0</span>:00:01.001148<span class="w"> </span><span class="o">[</span>-5.15495e+00<span class="o">]</span>
<span class="m">0</span>:00:01.002169<span class="w"> </span><span class="o">[</span>-5.64561e+00<span class="o">]</span>
<span class="m">0</span>:00:01.002267<span class="w"> </span><span class="o">[</span>-6.01321e+00<span class="o">]</span>
<span class="m">0</span>:00:01.002256<span class="w"> </span><span class="o">[</span>-5.18551e+00<span class="o">]</span>
<span class="m">0</span>:00:01.002254<span class="w"> </span><span class="o">[</span>-4.88171e+00<span class="o">]</span>
<span class="m">0</span>:00:01.000546<span class="w"> </span><span class="o">[</span>-4.47361e+00<span class="o">]</span>
^C

$<span class="w"> </span>caproto-monitor<span class="w"> </span>random_walk:x<span class="w"> </span>-f3<span class="w"> </span>-F<span class="w"> </span><span class="s1">&#39; ** &#39;</span><span class="w"> </span>--format<span class="w"> </span><span class="s2">&quot;{timedelta} {response.data}&quot;</span>
<span class="m">0</span>:00:00.115265<span class="w"> </span>**<span class="w"> </span><span class="o">[</span><span class="m">53</span>.291<span class="o">]</span>
<span class="m">0</span>:00:01.002170<span class="w"> </span>**<span class="w"> </span><span class="o">[</span><span class="m">53</span>.597<span class="o">]</span>
<span class="m">0</span>:00:01.002251<span class="w"> </span>**<span class="w"> </span><span class="o">[</span><span class="m">54</span>.536<span class="o">]</span>
<span class="m">0</span>:00:01.002267<span class="w"> </span>**<span class="w"> </span><span class="o">[</span><span class="m">54</span>.469<span class="o">]</span>
<span class="m">0</span>:00:01.002254<span class="w"> </span>**<span class="w"> </span><span class="o">[</span><span class="m">53</span>.827<span class="o">]</span>
<span class="m">0</span>:00:01.002264<span class="w"> </span>**<span class="w"> </span><span class="o">[</span><span class="m">53</span>.000<span class="o">]</span>
<span class="m">0</span>:00:01.001584<span class="w"> </span>**<span class="w"> </span><span class="o">[</span><span class="m">52</span>.160<span class="o">]</span>
^C

$<span class="w"> </span>caproto-monitor<span class="w"> </span>random_walk:x<span class="w"> </span>-lx<span class="w"> </span>-F<span class="w"> </span><span class="s1">&#39; ** &#39;</span><span class="w"> </span>--format<span class="w"> </span><span class="s2">&quot;{timedelta} {response.data}&quot;</span>
<span class="m">0</span>:00:00.953373<span class="w"> </span>**<span class="w"> </span><span class="o">[</span>0x2D<span class="o">]</span>
<span class="m">0</span>:00:01.000445<span class="w"> </span>**<span class="w"> </span><span class="o">[</span>0x2D<span class="o">]</span>
<span class="m">0</span>:00:01.001918<span class="w"> </span>**<span class="w"> </span><span class="o">[</span>0x2E<span class="o">]</span>
<span class="m">0</span>:00:01.002289<span class="w"> </span>**<span class="w"> </span><span class="o">[</span>0x2E<span class="o">]</span>
<span class="m">0</span>:00:01.002199<span class="w"> </span>**<span class="w"> </span><span class="o">[</span>0x2D<span class="o">]</span>
<span class="m">0</span>:00:01.002327<span class="w"> </span>**<span class="w"> </span><span class="o">[</span>0x2D<span class="o">]</span>
<span class="m">0</span>:00:01.001610<span class="w"> </span>**<span class="w"> </span><span class="o">[</span>0x2C<span class="o">]</span>
^C
</pre></div>
</div>
</section>
</section>
<section id="api-documentation">
<h2>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this heading">¶</a></h2>
<p>Caproto’s command-line client is intended to provide a superset of the API
provided by its counterparts in EPICS’ reference implementation, epics-base:
<code class="docutils literal notranslate"><span class="pre">caget</span></code>, <code class="docutils literal notranslate"><span class="pre">caput</span></code>, <code class="docutils literal notranslate"><span class="pre">camonitor</span></code>, and <code class="docutils literal notranslate"><span class="pre">caRepeater</span></code>. It is our goal to make
caproto’s variants safe to use as drop-in replacements. As yet, some arguments
related to string formatting are not yet implemented (<a class="reference external" href="https://github.com/caproto/caproto/issues/147">Code contributions
welcome!</a>) but similar
functionality is available via <code class="docutils literal notranslate"><span class="pre">--format</span></code>.</p>
<section id="caproto-get">
<h3>caproto-get<a class="headerlink" href="#caproto-get" title="Permalink to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>caproto-get<span class="w"> </span>-h
usage:<span class="w"> </span>caproto-get<span class="w"> </span><span class="o">[</span>-h<span class="o">]</span><span class="w"> </span><span class="o">[</span>--verbose<span class="o">]</span><span class="w"> </span><span class="o">[</span>--format<span class="w"> </span>FORMAT<span class="o">]</span><span class="w"> </span><span class="o">[</span>--timeout<span class="w"> </span>TIMEOUT<span class="o">]</span>
<span class="w">                </span><span class="o">[</span>--notify<span class="o">]</span><span class="w"> </span><span class="o">[</span>--priority<span class="w"> </span>PRIORITY<span class="o">]</span>
<span class="w">                </span><span class="o">[</span>--terse<span class="w"> </span><span class="p">|</span><span class="w"> </span>--wide<span class="w"> </span><span class="p">|</span><span class="w"> </span>-d<span class="w"> </span>DATA_TYPE<span class="o">]</span><span class="w"> </span><span class="o">[</span>--list-types<span class="o">]</span><span class="w"> </span><span class="o">[</span>-n<span class="o">]</span>
<span class="w">                </span><span class="o">[</span>--no-color<span class="o">]</span><span class="w"> </span><span class="o">[</span>--no-repeater<span class="o">]</span><span class="w"> </span><span class="o">[</span>--version<span class="o">]</span><span class="w"> </span><span class="o">[</span>-e<span class="w"> </span>&lt;nr&gt;<span class="o">]</span>
<span class="w">                </span><span class="o">[</span>-f<span class="w"> </span>&lt;nr&gt;<span class="o">]</span><span class="w"> </span><span class="o">[</span>-g<span class="w"> </span>&lt;nr&gt;<span class="o">]</span><span class="w"> </span><span class="o">[</span>-s<span class="o">]</span><span class="w"> </span><span class="o">[</span>-lx<span class="o">]</span><span class="w"> </span><span class="o">[</span>-lo<span class="o">]</span><span class="w"> </span><span class="o">[</span>-lb<span class="o">]</span><span class="w"> </span><span class="o">[</span>-0x<span class="o">]</span><span class="w"> </span><span class="o">[</span>-0o<span class="o">]</span>
<span class="w">                </span><span class="o">[</span>-0b<span class="o">]</span><span class="w"> </span><span class="o">[</span>-F<span class="w"> </span>&lt;ofs&gt;<span class="o">]</span>
<span class="w">                </span>pv_names<span class="w"> </span><span class="o">[</span>pv_names<span class="w"> </span>...<span class="o">]</span>

Read<span class="w"> </span>the<span class="w"> </span>value<span class="w"> </span>of<span class="w"> </span>a<span class="w"> </span>PV.

positional<span class="w"> </span>arguments:
pv_names<span class="w">              </span>PV<span class="w"> </span><span class="o">(</span>channel<span class="o">)</span><span class="w"> </span>name<span class="o">(</span>s<span class="o">)</span><span class="w"> </span>separated<span class="w"> </span>by<span class="w"> </span>spaces

optional<span class="w"> </span>arguments:
-h,<span class="w"> </span>--help<span class="w">            </span>show<span class="w"> </span>this<span class="w"> </span><span class="nb">help</span><span class="w"> </span>message<span class="w"> </span>and<span class="w"> </span><span class="nb">exit</span>
--verbose,<span class="w"> </span>-v<span class="w">         </span>Show<span class="w"> </span>more<span class="w"> </span>log<span class="w"> </span>messages.<span class="w"> </span><span class="o">(</span>Use<span class="w"> </span>-vvv<span class="w"> </span><span class="k">for</span><span class="w"> </span>even<span class="w"> </span>more.<span class="o">)</span>
--format<span class="w"> </span>FORMAT<span class="w">       </span>Python<span class="w"> </span>format<span class="w"> </span>string.<span class="w"> </span>Available<span class="w"> </span>tokens<span class="w"> </span>are<span class="w"> </span><span class="o">{</span>pv_name<span class="o">}</span>
<span class="w">                        </span>and<span class="w"> </span><span class="o">{</span>response<span class="o">}</span>.<span class="w"> </span>Additionally,<span class="w"> </span><span class="k">if</span><span class="w"> </span>this<span class="w"> </span>data<span class="w"> </span><span class="nb">type</span>
<span class="w">                        </span>includes<span class="w"> </span>time,<span class="w"> </span><span class="o">{</span>timestamp<span class="o">}</span><span class="w"> </span>and<span class="w"> </span>usages<span class="w"> </span>like
<span class="w">                        </span><span class="o">{</span>timestamp:%Y-%m-%d<span class="w"> </span>%H:%M:%S<span class="o">}</span><span class="w"> </span>are<span class="w"> </span>supported.<span class="w"> </span>If<span class="w"> </span>the
<span class="w">                        </span>format<span class="w"> </span>string<span class="w"> </span>is<span class="w"> </span>specified,<span class="w"> </span>--terse<span class="w"> </span>and<span class="w"> </span>--wide<span class="w"> </span>options
<span class="w">                        </span>have<span class="w"> </span>no<span class="w"> </span>effect<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>output<span class="w"> </span>formatting.
--timeout<span class="w"> </span>TIMEOUT,<span class="w"> </span>-w<span class="w"> </span>TIMEOUT
<span class="w">                        </span>Timeout<span class="w"> </span><span class="o">(</span><span class="s1">&#39;wait&#39;</span><span class="o">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>seconds<span class="w"> </span><span class="k">for</span><span class="w"> </span>server<span class="w"> </span>responses.
--notify,<span class="w"> </span>-c<span class="w">          </span>This<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span>vestigial<span class="w"> </span>argument<span class="w"> </span>that<span class="w"> </span>now<span class="w"> </span>has<span class="w"> </span>no<span class="w"> </span>effect<span class="w"> </span><span class="k">in</span>
<span class="w">                        </span>caget<span class="w"> </span>but<span class="w"> </span>is<span class="w"> </span>provided<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>backward-compatibility
<span class="w">                        </span>with<span class="w"> </span>caget<span class="w"> </span>invocations.
--priority<span class="w"> </span>PRIORITY,<span class="w"> </span>-p<span class="w"> </span>PRIORITY
<span class="w">                        </span>Channel<span class="w"> </span>Access<span class="w"> </span>Virtual<span class="w"> </span>Circuit<span class="w"> </span>priority.<span class="w"> </span>Lowest<span class="w"> </span>is<span class="w"> </span><span class="m">0</span><span class="p">;</span>
<span class="w">                        </span>highest<span class="w"> </span>is<span class="w"> </span><span class="m">99</span>.
--terse,<span class="w"> </span>-t<span class="w">           </span>Display<span class="w"> </span>data<span class="w"> </span>only.<span class="w"> </span>Unpack<span class="w"> </span>scalars:<span class="w"> </span><span class="o">[</span><span class="m">3</span>.<span class="o">]</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="m">3</span>.
--wide,<span class="w"> </span>-a,<span class="w"> </span>-l<span class="w">        </span>Wide<span class="w"> </span>mode,<span class="w"> </span>showing<span class="w"> </span><span class="s1">&#39;name timestamp value</span>
<span class="s1">                        status&#39;</span><span class="o">(</span>implies<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;time&#39;</span><span class="o">)</span>
-d<span class="w"> </span>DATA_TYPE<span class="w">          </span>Request<span class="w"> </span>a<span class="w"> </span>class<span class="w"> </span>of<span class="w"> </span>data<span class="w"> </span><span class="nb">type</span><span class="w"> </span><span class="o">(</span>native,<span class="w"> </span>status,<span class="w"> </span>time,
<span class="w">                        </span>graphic,<span class="w"> </span>control<span class="o">)</span><span class="w"> </span>or<span class="w"> </span>a<span class="w"> </span>specific<span class="w"> </span>type.<span class="w"> </span>Accepts<span class="w"> </span>numeric
<span class="w">                        </span>code<span class="w"> </span><span class="o">(</span><span class="s1">&#39;3&#39;</span><span class="o">)</span><span class="w"> </span>or<span class="w"> </span><span class="k">case</span>-insensitive<span class="w"> </span>string<span class="w"> </span><span class="o">(</span><span class="s1">&#39;enum&#39;</span><span class="o">)</span>.<span class="w"> </span>See
<span class="w">                        </span>--list-types.
--list-types<span class="w">          </span>List<span class="w"> </span>allowed<span class="w"> </span>values<span class="w"> </span><span class="k">for</span><span class="w"> </span>-d<span class="w"> </span>and<span class="w"> </span>exit.
-n<span class="w">                    </span>Retrieve<span class="w"> </span>enums<span class="w"> </span>as<span class="w"> </span>integers<span class="w"> </span><span class="o">(</span>default<span class="w"> </span>is<span class="w"> </span>strings<span class="o">)</span>.
--no-color<span class="w">            </span>Suppress<span class="w"> </span>ANSI<span class="w"> </span>color<span class="w"> </span>codes<span class="w"> </span><span class="k">in</span><span class="w"> </span>log<span class="w"> </span>messages.
--no-repeater<span class="w">         </span>Do<span class="w"> </span>not<span class="w"> </span>spawn<span class="w"> </span>a<span class="w"> </span>Channel<span class="w"> </span>Access<span class="w"> </span>repeater<span class="w"> </span>daemon<span class="w"> </span>process.
--version,<span class="w"> </span>-V<span class="w">         </span>Show<span class="w"> </span>caproto<span class="w"> </span>version<span class="w"> </span>and<span class="w"> </span>exit.

Floating<span class="w"> </span>point<span class="w"> </span><span class="nb">type</span><span class="w"> </span>format:
If<span class="w"> </span>--format<span class="w"> </span>is<span class="w"> </span>set,<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>arguments<span class="w"> </span>change<span class="w"> </span>formatting<span class="w"> </span>of<span class="w"> </span>the
<span class="o">{</span>response.data<span class="o">}</span><span class="w"> </span>field<span class="w"> </span><span class="k">if</span><span class="w"> </span>floating<span class="w"> </span>point<span class="w"> </span>value<span class="w"> </span>is<span class="w"> </span>displayed.<span class="w"> </span>The<span class="w"> </span>default
format<span class="w"> </span>is<span class="w"> </span>%g.

-e<span class="w"> </span>&lt;nr&gt;<span class="w">               </span>Use<span class="w"> </span>%e<span class="w"> </span>format<span class="w"> </span>with<span class="w"> </span>precision<span class="w"> </span>of<span class="w"> </span>&lt;nr&gt;<span class="w"> </span>digits<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span>-e5
<span class="w">                        </span>or<span class="w"> </span>-e<span class="w"> </span><span class="m">5</span><span class="o">)</span>
-f<span class="w"> </span>&lt;nr&gt;<span class="w">               </span>Use<span class="w"> </span>%f<span class="w"> </span>format<span class="w"> </span>with<span class="w"> </span>precision<span class="w"> </span>of<span class="w"> </span>&lt;nr&gt;<span class="w"> </span>digits<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span>-f5
<span class="w">                        </span>or<span class="w"> </span>-f<span class="w"> </span><span class="m">5</span><span class="o">)</span>
-g<span class="w"> </span>&lt;nr&gt;<span class="w">               </span>Use<span class="w"> </span>%g<span class="w"> </span>format<span class="w"> </span>with<span class="w"> </span>precision<span class="w"> </span>of<span class="w"> </span>&lt;nr&gt;<span class="w"> </span>digits<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span>-g5
<span class="w">                        </span>or<span class="w"> </span>-g<span class="w"> </span><span class="m">5</span><span class="o">)</span>
-s<span class="w">                    </span>Get<span class="w"> </span>value<span class="w"> </span>as<span class="w"> </span>string<span class="w"> </span><span class="o">(</span>honors<span class="w"> </span>server-side<span class="w"> </span>precision<span class="o">)</span>
-lx<span class="w">                   </span>Round<span class="w"> </span>to<span class="w"> </span>long<span class="w"> </span>integer<span class="w"> </span>and<span class="w"> </span>print<span class="w"> </span>as<span class="w"> </span>hex<span class="w"> </span>number
-lo<span class="w">                   </span>Round<span class="w"> </span>to<span class="w"> </span>long<span class="w"> </span>integer<span class="w"> </span>and<span class="w"> </span>print<span class="w"> </span>as<span class="w"> </span>octal<span class="w"> </span>number
-lb<span class="w">                   </span>Round<span class="w"> </span>to<span class="w"> </span>long<span class="w"> </span>integer<span class="w"> </span>and<span class="w"> </span>print<span class="w"> </span>as<span class="w"> </span>binary<span class="w"> </span>number

Integer<span class="w"> </span>number<span class="w"> </span>format:
If<span class="w"> </span>--format<span class="w"> </span>is<span class="w"> </span>set,<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>arguments<span class="w"> </span>change<span class="w"> </span>formatting<span class="w"> </span>of<span class="w"> </span>the
<span class="o">{</span>response.data<span class="o">}</span><span class="w"> </span>field<span class="w"> </span><span class="k">if</span><span class="w"> </span>integer<span class="w"> </span>value<span class="w"> </span>is<span class="w"> </span>displayed.<span class="w"> </span>Decimal<span class="w"> </span>number<span class="w"> </span>is
displayed<span class="w"> </span>by<span class="w"> </span>default.

-0x<span class="w">                   </span>Print<span class="w"> </span>as<span class="w"> </span>hex<span class="w"> </span>number
-0o<span class="w">                   </span>Print<span class="w"> </span>as<span class="w"> </span>octal<span class="w"> </span>number
-0b<span class="w">                   </span>Print<span class="w"> </span>as<span class="w"> </span>binary<span class="w"> </span>number

Custom<span class="w"> </span>output<span class="w"> </span>field<span class="w"> </span>separator:
-F<span class="w"> </span>&lt;ofs&gt;<span class="w">              </span>Use<span class="w"> </span>&lt;ofs&gt;<span class="w"> </span>as<span class="w"> </span>an<span class="w"> </span>alternate<span class="w"> </span>output<span class="w"> </span>field<span class="w"> </span>separator<span class="w"> </span><span class="o">(</span>e.g.
<span class="w">                        </span>-F*,<span class="w"> </span>-F<span class="s1">&#39;*&#39;</span>,<span class="w"> </span>-F<span class="w"> </span><span class="s1">&#39;*&#39;</span>,<span class="w"> </span>-F<span class="w"> </span><span class="s1">&#39; ** &#39;</span><span class="o">)</span>
</pre></div>
</div>
</section>
<section id="caproto-put">
<h3>caproto-put<a class="headerlink" href="#caproto-put" title="Permalink to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>caproto-put<span class="w"> </span>-h
usage:<span class="w"> </span>caproto-put<span class="w"> </span><span class="o">[</span>-h<span class="o">]</span><span class="w"> </span><span class="o">[</span>--verbose<span class="o">]</span><span class="w"> </span><span class="o">[</span>--format<span class="w"> </span>FORMAT<span class="o">]</span><span class="w"> </span><span class="o">[</span>--timeout<span class="w"> </span>TIMEOUT<span class="o">]</span>
<span class="w">                </span><span class="o">[</span>--notify<span class="o">]</span><span class="w"> </span><span class="o">[</span>--priority<span class="w"> </span>PRIORITY<span class="o">]</span><span class="w"> </span><span class="o">[</span>--terse<span class="o">]</span><span class="w"> </span><span class="o">[</span>--wide<span class="o">]</span><span class="w"> </span><span class="o">[</span>-n<span class="o">]</span>
<span class="w">                </span><span class="o">[</span>--array<span class="o">]</span><span class="w"> </span><span class="o">[</span>--array-pad<span class="w"> </span>ARRAY_PAD<span class="o">]</span><span class="w"> </span><span class="o">[</span>--no-color<span class="o">]</span>
<span class="w">                </span><span class="o">[</span>--no-repeater<span class="o">]</span>
<span class="w">                </span>pv_name<span class="w"> </span>data

Write<span class="w"> </span>a<span class="w"> </span>value<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>PV.

positional<span class="w"> </span>arguments:
pv_name<span class="w">               </span>PV<span class="w"> </span><span class="o">(</span>channel<span class="o">)</span><span class="w"> </span>name
data<span class="w">                  </span>Value<span class="w"> </span>or<span class="w"> </span>values<span class="w"> </span>to<span class="w"> </span>write.

optional<span class="w"> </span>arguments:
-h,<span class="w"> </span>--help<span class="w">            </span>show<span class="w"> </span>this<span class="w"> </span><span class="nb">help</span><span class="w"> </span>message<span class="w"> </span>and<span class="w"> </span><span class="nb">exit</span>
--verbose,<span class="w"> </span>-v<span class="w">         </span>Show<span class="w"> </span>more<span class="w"> </span>log<span class="w"> </span>messages.<span class="w"> </span><span class="o">(</span>Use<span class="w"> </span>-vvv<span class="w"> </span><span class="k">for</span><span class="w"> </span>even<span class="w"> </span>more.<span class="o">)</span>
--format<span class="w"> </span>FORMAT<span class="w">       </span>Python<span class="w"> </span>format<span class="w"> </span>string.<span class="w"> </span>Available<span class="w"> </span>tokens<span class="w"> </span>are<span class="w"> </span><span class="o">{</span>pv_name<span class="o">}</span>,
<span class="w">                        </span><span class="o">{</span>response<span class="o">}</span><span class="w"> </span>and<span class="w"> </span><span class="o">{</span>which<span class="o">}</span><span class="w"> </span><span class="o">(</span>Old/New<span class="o">)</span>.Additionally,<span class="w"> </span>this
<span class="w">                        </span>data<span class="w"> </span><span class="nb">type</span><span class="w"> </span>includes<span class="w"> </span>time,<span class="w"> </span><span class="o">{</span>timestamp<span class="o">}</span><span class="w"> </span>and<span class="w"> </span>usages<span class="w"> </span>like
<span class="w">                        </span><span class="o">{</span>timestamp:%Y-%m-%d<span class="w"> </span>%H:%M:%S<span class="o">}</span><span class="w"> </span>are<span class="w"> </span>supported.
--timeout<span class="w"> </span>TIMEOUT,<span class="w"> </span>-w<span class="w"> </span>TIMEOUT
<span class="w">                        </span>Timeout<span class="w"> </span><span class="o">(</span><span class="s1">&#39;wait&#39;</span><span class="o">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>seconds<span class="w"> </span><span class="k">for</span><span class="w"> </span>server<span class="w"> </span>responses.
--notify,<span class="w"> </span>-c<span class="w">          </span>Request<span class="w"> </span>notification<span class="w"> </span>of<span class="w"> </span>completion,<span class="w"> </span>and<span class="w"> </span><span class="nb">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>it.
--priority<span class="w"> </span>PRIORITY,<span class="w"> </span>-p<span class="w"> </span>PRIORITY
<span class="w">                        </span>Channel<span class="w"> </span>Access<span class="w"> </span>Virtual<span class="w"> </span>Circuit<span class="w"> </span>priority.<span class="w"> </span>Lowest<span class="w"> </span>is<span class="w"> </span><span class="m">0</span><span class="p">;</span>
<span class="w">                        </span>highest<span class="w"> </span>is<span class="w"> </span><span class="m">99</span>.
--terse,<span class="w"> </span>-t<span class="w">           </span>Display<span class="w"> </span>data<span class="w"> </span>only.<span class="w"> </span>Unpack<span class="w"> </span>scalars:<span class="w"> </span><span class="o">[</span><span class="m">3</span>.<span class="o">]</span><span class="w"> </span>-&gt;<span class="w"> </span><span class="m">3</span>.
--wide,<span class="w"> </span>-l<span class="w">            </span>Wide<span class="w"> </span>mode,<span class="w"> </span>showing<span class="w"> </span><span class="s1">&#39;name timestamp value</span>
<span class="s1">                        status&#39;</span><span class="o">(</span>implies<span class="w"> </span>-d<span class="w"> </span><span class="s1">&#39;time&#39;</span><span class="o">)</span>
-n<span class="w">                    </span>Retrieve<span class="w"> </span>enums<span class="w"> </span>as<span class="w"> </span>integers<span class="w"> </span><span class="o">(</span>default<span class="w"> </span>is<span class="w"> </span>strings<span class="o">)</span>.
--array,<span class="w"> </span>-a<span class="w">           </span>Interprets<span class="w"> </span><span class="sb">`</span>data<span class="sb">`</span><span class="w"> </span>as<span class="w"> </span>an<span class="w"> </span>array,<span class="w"> </span>delimited<span class="w"> </span>by<span class="w"> </span>space
--array-pad<span class="w"> </span>ARRAY_PAD
<span class="w">                        </span>Pad<span class="w"> </span>the<span class="w"> </span>array<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>specified<span class="w"> </span>length
--no-color<span class="w">            </span>Suppress<span class="w"> </span>ANSI<span class="w"> </span>color<span class="w"> </span>codes<span class="w"> </span><span class="k">in</span><span class="w"> </span>log<span class="w"> </span>messages.
--no-repeater<span class="w">         </span>Do<span class="w"> </span>not<span class="w"> </span>spawn<span class="w"> </span>a<span class="w"> </span>Channel<span class="w"> </span>Access<span class="w"> </span>repeater<span class="w"> </span>daemon<span class="w"> </span>process.
</pre></div>
</div>
</section>
<section id="caproto-monitor">
<h3>caproto-monitor<a class="headerlink" href="#caproto-monitor" title="Permalink to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>caproto-monitor<span class="w"> </span>-h
usage:<span class="w"> </span>caproto-monitor<span class="w"> </span><span class="o">[</span>-h<span class="o">]</span><span class="w"> </span><span class="o">[</span>--format<span class="w"> </span>FORMAT<span class="o">]</span><span class="w"> </span><span class="o">[</span>--verbose<span class="o">]</span>
<span class="w">                    </span><span class="o">[</span>--duration<span class="w"> </span>DURATION<span class="w"> </span><span class="p">|</span><span class="w"> </span>--maximum<span class="w"> </span>MAXIMUM<span class="o">]</span>
<span class="w">                    </span><span class="o">[</span>--timeout<span class="w"> </span>TIMEOUT<span class="o">]</span><span class="w"> </span><span class="o">[</span>-m<span class="w"> </span>MASK<span class="o">]</span><span class="w"> </span><span class="o">[</span>--priority<span class="w"> </span>PRIORITY<span class="o">]</span>
<span class="w">                    </span><span class="o">[</span>-n<span class="o">]</span><span class="w"> </span><span class="o">[</span>--no-color<span class="o">]</span><span class="w"> </span><span class="o">[</span>--no-repeater<span class="o">]</span><span class="w"> </span><span class="o">[</span>--version<span class="o">]</span><span class="w"> </span><span class="o">[</span>-e<span class="w"> </span>&lt;nr&gt;<span class="o">]</span>
<span class="w">                    </span><span class="o">[</span>-f<span class="w"> </span>&lt;nr&gt;<span class="o">]</span><span class="w"> </span><span class="o">[</span>-g<span class="w"> </span>&lt;nr&gt;<span class="o">]</span><span class="w"> </span><span class="o">[</span>-s<span class="o">]</span><span class="w"> </span><span class="o">[</span>-lx<span class="o">]</span><span class="w"> </span><span class="o">[</span>-lo<span class="o">]</span><span class="w"> </span><span class="o">[</span>-lb<span class="o">]</span><span class="w"> </span><span class="o">[</span>-0x<span class="o">]</span><span class="w"> </span><span class="o">[</span>-0o<span class="o">]</span>
<span class="w">                    </span><span class="o">[</span>-0b<span class="o">]</span><span class="w"> </span><span class="o">[</span>-F<span class="w"> </span>&lt;ofs&gt;<span class="o">]</span>
<span class="w">                    </span>pv_names<span class="w"> </span><span class="o">[</span>pv_names<span class="w"> </span>...<span class="o">]</span>

Read<span class="w"> </span>the<span class="w"> </span>value<span class="w"> </span>of<span class="w"> </span>a<span class="w"> </span>PV.

positional<span class="w"> </span>arguments:
pv_names<span class="w">              </span>PV<span class="w"> </span><span class="o">(</span>channel<span class="o">)</span><span class="w"> </span>name

optional<span class="w"> </span>arguments:
-h,<span class="w"> </span>--help<span class="w">            </span>show<span class="w"> </span>this<span class="w"> </span><span class="nb">help</span><span class="w"> </span>message<span class="w"> </span>and<span class="w"> </span><span class="nb">exit</span>
--format<span class="w"> </span>FORMAT<span class="w">       </span>Python<span class="w"> </span>format<span class="w"> </span>string.<span class="w"> </span>Available<span class="w"> </span>tokens<span class="w"> </span>are<span class="w"> </span><span class="o">{</span>pv_name<span class="o">}</span>,
<span class="w">                        </span><span class="o">{</span>response<span class="o">}</span>,<span class="w"> </span><span class="o">{</span>callback_count<span class="o">}</span>.<span class="w"> </span>Additionally,<span class="w"> </span><span class="k">if</span><span class="w"> </span>this
<span class="w">                        </span>data<span class="w"> </span><span class="nb">type</span><span class="w"> </span>includes<span class="w"> </span>time,<span class="w"> </span><span class="o">{</span>timestamp<span class="o">}</span>,<span class="w"> </span><span class="o">{</span>timedelta<span class="o">}</span><span class="w"> </span>and
<span class="w">                        </span>usages<span class="w"> </span>like<span class="w"> </span><span class="o">{</span>timestamp:%Y-%m-%d<span class="w"> </span>%H:%M:%S<span class="o">}</span><span class="w"> </span>are
<span class="w">                        </span>supported.
--verbose,<span class="w"> </span>-v<span class="w">         </span>Show<span class="w"> </span>more<span class="w"> </span>log<span class="w"> </span>messages.<span class="w"> </span><span class="o">(</span>Use<span class="w"> </span>-vvv<span class="w"> </span><span class="k">for</span><span class="w"> </span>even<span class="w"> </span>more.<span class="o">)</span>
--duration<span class="w"> </span>DURATION<span class="w">   </span>Maximum<span class="w"> </span>number<span class="w"> </span>seconds<span class="w"> </span>to<span class="w"> </span>run<span class="w"> </span>before<span class="w"> </span>exiting.<span class="w"> </span>Runs
<span class="w">                        </span>indefinitely<span class="w"> </span>by<span class="w"> </span>default.
--maximum<span class="w"> </span>MAXIMUM<span class="w">     </span>Maximum<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>monitor<span class="w"> </span>events<span class="w"> </span>to<span class="w"> </span>process<span class="w"> </span>exiting.
<span class="w">                        </span>Unlimited<span class="w"> </span>by<span class="w"> </span>default.
--timeout<span class="w"> </span>TIMEOUT,<span class="w"> </span>-w<span class="w"> </span>TIMEOUT
<span class="w">                        </span>Timeout<span class="w"> </span><span class="o">(</span><span class="s1">&#39;wait&#39;</span><span class="o">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>seconds<span class="w"> </span><span class="k">for</span><span class="w"> </span>server<span class="w"> </span>responses.
-m<span class="w"> </span>MASK<span class="w">               </span>Channel<span class="w"> </span>Access<span class="w"> </span>mask.<span class="w"> </span>Any<span class="w"> </span>combination<span class="w"> </span>of<span class="w"> </span><span class="s1">&#39;v&#39;</span><span class="w"> </span><span class="o">(</span>value<span class="o">)</span>,
<span class="w">                        </span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="o">(</span>alarm<span class="o">)</span>,<span class="w"> </span><span class="s1">&#39;l&#39;</span><span class="w"> </span><span class="o">(</span>log/archive<span class="o">)</span>,<span class="w"> </span><span class="s1">&#39;p&#39;</span><span class="w"> </span><span class="o">(</span>property<span class="o">)</span>.
<span class="w">                        </span>Default<span class="w"> </span>is<span class="w"> </span><span class="s1">&#39;va&#39;</span>.
--priority<span class="w"> </span>PRIORITY,<span class="w"> </span>-p<span class="w"> </span>PRIORITY
<span class="w">                        </span>Channel<span class="w"> </span>Access<span class="w"> </span>Virtual<span class="w"> </span>Circuit<span class="w"> </span>priority.<span class="w"> </span>Lowest<span class="w"> </span>is<span class="w"> </span><span class="m">0</span><span class="p">;</span>
<span class="w">                        </span>highest<span class="w"> </span>is<span class="w"> </span><span class="m">99</span>.
-n<span class="w">                    </span>Retrieve<span class="w"> </span>enums<span class="w"> </span>as<span class="w"> </span>integers<span class="w"> </span><span class="o">(</span>default<span class="w"> </span>is<span class="w"> </span>strings<span class="o">)</span>.
--no-color<span class="w">            </span>Suppress<span class="w"> </span>ANSI<span class="w"> </span>color<span class="w"> </span>codes<span class="w"> </span><span class="k">in</span><span class="w"> </span>log<span class="w"> </span>messages.
--no-repeater<span class="w">         </span>Do<span class="w"> </span>not<span class="w"> </span>spawn<span class="w"> </span>a<span class="w"> </span>Channel<span class="w"> </span>Access<span class="w"> </span>repeater<span class="w"> </span>daemon<span class="w"> </span>process.
--version,<span class="w"> </span>-V<span class="w">         </span>Show<span class="w"> </span>caproto<span class="w"> </span>version<span class="w"> </span>and<span class="w"> </span>exit.

Floating<span class="w"> </span>point<span class="w"> </span><span class="nb">type</span><span class="w"> </span>format:
If<span class="w"> </span>--format<span class="w"> </span>is<span class="w"> </span>set,<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>arguments<span class="w"> </span>change<span class="w"> </span>formatting<span class="w"> </span>of<span class="w"> </span>the
<span class="o">{</span>response.data<span class="o">}</span><span class="w"> </span>field<span class="w"> </span><span class="k">if</span><span class="w"> </span>floating<span class="w"> </span>point<span class="w"> </span>value<span class="w"> </span>is<span class="w"> </span>displayed.<span class="w"> </span>The<span class="w"> </span>default
format<span class="w"> </span>is<span class="w"> </span>%g.

-e<span class="w"> </span>&lt;nr&gt;<span class="w">               </span>Use<span class="w"> </span>%e<span class="w"> </span>format<span class="w"> </span>with<span class="w"> </span>precision<span class="w"> </span>of<span class="w"> </span>&lt;nr&gt;<span class="w"> </span>digits<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span>-e5
<span class="w">                        </span>or<span class="w"> </span>-e<span class="w"> </span><span class="m">5</span><span class="o">)</span>
-f<span class="w"> </span>&lt;nr&gt;<span class="w">               </span>Use<span class="w"> </span>%f<span class="w"> </span>format<span class="w"> </span>with<span class="w"> </span>precision<span class="w"> </span>of<span class="w"> </span>&lt;nr&gt;<span class="w"> </span>digits<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span>-f5
<span class="w">                        </span>or<span class="w"> </span>-f<span class="w"> </span><span class="m">5</span><span class="o">)</span>
-g<span class="w"> </span>&lt;nr&gt;<span class="w">               </span>Use<span class="w"> </span>%g<span class="w"> </span>format<span class="w"> </span>with<span class="w"> </span>precision<span class="w"> </span>of<span class="w"> </span>&lt;nr&gt;<span class="w"> </span>digits<span class="w"> </span><span class="o">(</span>e.g.<span class="w"> </span>-g5
<span class="w">                        </span>or<span class="w"> </span>-g<span class="w"> </span><span class="m">5</span><span class="o">)</span>
-s<span class="w">                    </span>Get<span class="w"> </span>value<span class="w"> </span>as<span class="w"> </span>string<span class="w"> </span><span class="o">(</span>honors<span class="w"> </span>server-side<span class="w"> </span>precision<span class="o">)</span>
-lx<span class="w">                   </span>Round<span class="w"> </span>to<span class="w"> </span>long<span class="w"> </span>integer<span class="w"> </span>and<span class="w"> </span>print<span class="w"> </span>as<span class="w"> </span>hex<span class="w"> </span>number
-lo<span class="w">                   </span>Round<span class="w"> </span>to<span class="w"> </span>long<span class="w"> </span>integer<span class="w"> </span>and<span class="w"> </span>print<span class="w"> </span>as<span class="w"> </span>octal<span class="w"> </span>number
-lb<span class="w">                   </span>Round<span class="w"> </span>to<span class="w"> </span>long<span class="w"> </span>integer<span class="w"> </span>and<span class="w"> </span>print<span class="w"> </span>as<span class="w"> </span>binary<span class="w"> </span>number

Integer<span class="w"> </span>number<span class="w"> </span>format:
If<span class="w"> </span>--format<span class="w"> </span>is<span class="w"> </span>set,<span class="w"> </span>the<span class="w"> </span>following<span class="w"> </span>arguments<span class="w"> </span>change<span class="w"> </span>formatting<span class="w"> </span>of<span class="w"> </span>the
<span class="o">{</span>response.data<span class="o">}</span><span class="w"> </span>field<span class="w"> </span><span class="k">if</span><span class="w"> </span>integer<span class="w"> </span>value<span class="w"> </span>is<span class="w"> </span>displayed.<span class="w"> </span>Decimal<span class="w"> </span>number<span class="w"> </span>is
displayed<span class="w"> </span>by<span class="w"> </span>default.

-0x<span class="w">                   </span>Print<span class="w"> </span>as<span class="w"> </span>hex<span class="w"> </span>number
-0o<span class="w">                   </span>Print<span class="w"> </span>as<span class="w"> </span>octal<span class="w"> </span>number
-0b<span class="w">                   </span>Print<span class="w"> </span>as<span class="w"> </span>binary<span class="w"> </span>number

Custom<span class="w"> </span>output<span class="w"> </span>field<span class="w"> </span>separator:
-F<span class="w"> </span>&lt;ofs&gt;<span class="w">              </span>Use<span class="w"> </span>&lt;ofs&gt;<span class="w"> </span>as<span class="w"> </span>an<span class="w"> </span>alternate<span class="w"> </span>output<span class="w"> </span>field<span class="w"> </span>separator<span class="w"> </span><span class="o">(</span>e.g.
<span class="w">                        </span>-F*,<span class="w"> </span>-F<span class="s1">&#39;*&#39;</span>,<span class="w"> </span>-F<span class="w"> </span><span class="s1">&#39;*&#39;</span>,<span class="w"> </span>-F<span class="w"> </span><span class="s1">&#39; ** &#39;</span><span class="o">)</span>
</pre></div>
</div>
</section>
<section id="caproto-repeater">
<h3>caproto-repeater<a class="headerlink" href="#caproto-repeater" title="Permalink to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>caproto-repeater<span class="w"> </span>-h
usage:<span class="w"> </span>caproto-repeater<span class="w"> </span><span class="o">[</span>-h<span class="o">]</span><span class="w"> </span><span class="o">[</span>-q<span class="w"> </span><span class="p">|</span><span class="w"> </span>-v<span class="o">]</span><span class="w"> </span><span class="o">[</span>--no-color<span class="o">]</span>

Run<span class="w"> </span>a<span class="w"> </span>Channel<span class="w"> </span>Access<span class="w"> </span>Repeater.<span class="w"> </span>If<span class="w"> </span>the<span class="w"> </span>Repeater<span class="w"> </span>port<span class="w"> </span>is<span class="w"> </span>already<span class="w"> </span><span class="k">in</span><span class="w"> </span>use,<span class="w"> </span>assume
a<span class="w"> </span>Repeater<span class="w"> </span>is<span class="w"> </span>already<span class="w"> </span>running<span class="w"> </span>and<span class="w"> </span>exit.<span class="w"> </span>That<span class="w"> </span>port<span class="w"> </span>number<span class="w"> </span>is<span class="w"> </span><span class="nb">set</span><span class="w"> </span>by<span class="w"> </span>the
environment<span class="w"> </span>variable<span class="w"> </span>EPICS_CA_REPEATER_PORT.<span class="w"> </span>It<span class="w"> </span>defaults<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>standard<span class="w"> </span><span class="m">5065</span>.
The<span class="w"> </span>current<span class="w"> </span>value<span class="w"> </span>is<span class="w"> </span><span class="m">5065</span>.

optional<span class="w"> </span>arguments:
-h,<span class="w"> </span>--help<span class="w">     </span>show<span class="w"> </span>this<span class="w"> </span><span class="nb">help</span><span class="w"> </span>message<span class="w"> </span>and<span class="w"> </span><span class="nb">exit</span>
-q,<span class="w"> </span>--quiet<span class="w">    </span>Suppress<span class="w"> </span>INFO<span class="w"> </span>log<span class="w"> </span>messages.<span class="w"> </span><span class="o">(</span>Still<span class="w"> </span>show<span class="w"> </span>WARNING<span class="w"> </span>or<span class="w"> </span>higher.<span class="o">)</span>
-v,<span class="w"> </span>--verbose<span class="w">  </span>Verbose<span class="w"> </span>mode.<span class="w"> </span><span class="o">(</span>Use<span class="w"> </span>-vvv<span class="w"> </span><span class="k">for</span><span class="w"> </span>more.<span class="o">)</span>
--no-color<span class="w">     </span>Suppress<span class="w"> </span>ANSI<span class="w"> </span>color<span class="w"> </span>codes<span class="w"> </span><span class="k">in</span><span class="w"> </span>log<span class="w"> </span>messages.
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="clients.html" class="btn btn-neutral float-left" title="Clients" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="sync-client.html" class="btn btn-neutral float-right" title="Synchronous Client" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Daniel Allan.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>